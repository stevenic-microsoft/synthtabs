<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SynthOS</title>
    <script src="/api/theme-info.js"></script>
    <link rel="stylesheet" href="/api/theme.css">
    <style>#solarSystem{width:100%;height:100%;position:relative}.controls{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);display:flex;gap:15px;z-index:100;background:rgba(15,15,35,.8);padding:15px 25px;border-radius:25px;border:1px solid rgba(138,43,226,.3)}.controls button{padding:10px 20px;border:none;border-radius:15px;background:linear-gradient(135deg,#667eea 0,#764ba2 100%);color:#fff;cursor:pointer;font-size:13px;transition:.3s}.controls button:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(102,126,234,.5)}.controls button.active{background:linear-gradient(135deg,#f093fb 0,#764ba2 100%)}.info-panel{position:absolute;top:20px;right:20px;background:rgba(15,15,35,.9);padding:20px;border-radius:15px;border:1px solid rgba(138,43,226,.3);max-width:280px;z-index:100}.info-panel h3{color:#f093fb;margin-bottom:10px;font-size:18px}.info-panel p{font-size:13px;line-height:1.6;color:#b794f6;margin-bottom:8px}.speed-control{position:absolute;top:20px;left:20px;background:rgba(15,15,35,.9);padding:15px 20px;border-radius:15px;border:1px solid rgba(138,43,226,.3);z-index:100}.speed-control label{color:#b794f6;font-size:13px;display:block;margin-bottom:8px}.speed-control input[type=range]{width:150px;accent-color:#f093fb}.planet-label{font-size:11px;fill:#b794f6;pointer-events:none;text-anchor:middle}.light-mode .controls{background:rgba(255,255,255,.85)}.light-mode .info-panel{background:rgba(255,255,255,.92)}.light-mode .info-panel p{color:var(--text-secondary)}.light-mode .speed-control{background:rgba(255,255,255,.92)}.light-mode .speed-control label{color:var(--text-secondary)}.light-mode .planet-label{fill:var(--text-secondary)}</style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/14.1.1/marked.min.js"></script>
    <script id="page-info" src="/api/page-info.js?page=solar_system"></script>
</head>
<body>
    <div class="chat-panel">
        <div class="chat-header">SynthOS</div>
        <div class="chat-messages" id="chatMessages">
            <div class="chat-message"><p><strong>SynthOS:</strong> What can I create for you?</p></div>
            <div class="chat-message"><p><strong>You:</strong> create an accurate animation of the solar system</p></div>
            <div class="chat-message"><p><strong>SynthOS:</strong> I've created an accurate, interactive solar system simulation! Features include: real orbital periods (scaled for visibility), accurate relative planet sizes, elliptical orbits with correct eccentricities, the asteroid belt, and dwarf planet Pluto. Use the controls to adjust speed, toggle orbits, and click planets for info.</p></div>
        </div>
        <div class="link-group">
            <a href="#" id="saveLink">Save</a>
            <a href="/pages" id="pagesLink">Pages</a>
            <a href="#" id="resetLink">Reset</a>
        </div>
        <form action="/" method="POST" id="chatForm">
            <input type="text" class="chat-input" id="chatInput" name="message" placeholder="Type a message...">
            <button type="submit" class="chat-submit">Send</button>
        </form>
    </div>
    <div class="viewer-panel" id="viewerPanel">
        <div id="solarSystem"></div>
        <div class="speed-control">
            <label>Simulation Speed: <span id="speedValue">1x</span></label>
            <input type="range" id="speedSlider" min="0.1" max="10" step="0.1" value="1">
        </div>
        <div class="info-panel" id="infoPanel">
            <h3>Solar System</h3>
            <p>Click on any planet to see detailed information.</p>
            <p>The simulation shows accurate relative orbital periods and distances (scaled for visibility).</p>
        </div>
        <div class="controls">
            <button id="toggleOrbits" class="active">Show Orbits</button>
            <button id="toggleLabels" class="active">Show Labels</button>
            <button id="toggleAsteroids">Show Asteroids</button>
            <button id="resetView">Reset View</button>
        </div>
        <div id="loadingOverlay" class="loading-overlay"><div class="spinner"></div></div>
    </div>
    <div id="instructions" style="display: none;" data-locked=""></div>
    <div id="thoughts" style="display: none;" data-locked=""></div>
    <script id="solar-sim">const container=document.getElementById("solarSystem"),canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");let width,height,centerX,centerY;container.appendChild(canvas);let simulationSpeed=1,showOrbits=!0,showLabels=!0,showAsteroids=!1,time=0;const planets=[{name:"Mercury",color:"#b5b5b5",size:4,distance:50,period:.24,eccentricity:.206,info:"Smallest planet, closest to Sun. Surface temp: -180째C to 430째C. No moons."},{name:"Venus",color:"#e6c87a",size:6,distance:75,period:.62,eccentricity:.007,info:"Hottest planet due to greenhouse effect. Rotates backwards. No moons."},{name:"Earth",color:"#6b93d6",size:6,distance:100,period:1,eccentricity:.017,info:"Our home! Only known planet with life. 1 moon (Luna)."},{name:"Mars",color:"#c1440e",size:5,distance:130,period:1.88,eccentricity:.093,info:"The Red Planet. Has the largest volcano (Olympus Mons). 2 moons."},{name:"Jupiter",color:"#d4a574",size:18,distance:200,period:11.86,eccentricity:.049,info:"Largest planet. Great Red Spot is a giant storm. 95 known moons."},{name:"Saturn",color:"#f4d59e",size:15,distance:270,period:29.46,eccentricity:.057,info:"Famous for its rings made of ice and rock. 146 known moons."},{name:"Uranus",color:"#d1e7e7",size:10,distance:330,period:84.01,eccentricity:.046,info:"Ice giant, rotates on its side. 28 known moons."},{name:"Neptune",color:"#5b5ddf",size:10,distance:380,period:164.8,eccentricity:.01,info:"Windiest planet (2,100 km/h). 16 known moons."},{name:"Pluto",color:"#a89f91",size:3,distance:420,period:248,eccentricity:.249,info:"Dwarf planet. Has a heart-shaped glacier. 5 known moons."}];let asteroids=[];function generateAsteroids(){asteroids=[];for(let i=0;i<500;i++)asteroids.push({distance:155+35*Math.random(),angle:Math.random()*Math.PI*2,speed:5e-4+.001*Math.random(),size:.5+1.5*Math.random()})}function resize(){width=container.clientWidth,height=container.clientHeight,canvas.width=width,canvas.height=height,centerX=width/2,centerY=height/2}function getOrbitalPosition(planet,t){const meanAnomaly=2*Math.PI/(365*planet.period)*t*simulationSpeed,e=planet.eccentricity,trueAnomaly=meanAnomaly+2*e*Math.sin(meanAnomaly),r=planet.distance*(1-e*e)/(1+e*Math.cos(trueAnomaly));return{x:centerX+r*Math.cos(trueAnomaly),y:centerY+r*Math.sin(trueAnomaly),angle:trueAnomaly}}function drawOrbit(planet){ctx.beginPath(),ctx.strokeStyle="rgba(138, 43, 226, 0.2)",ctx.lineWidth=1;const a=planet.distance,e=planet.eccentricity,b=a*Math.sqrt(1-e*e),c=a*e;ctx.ellipse(centerX+c,centerY,a,b,0,0,2*Math.PI),ctx.stroke()}function drawSun(){const gradient=ctx.createRadialGradient(centerX,centerY,0,centerX,centerY,60);gradient.addColorStop(0,"rgba(255, 200, 50, 1)"),gradient.addColorStop(.3,"rgba(255, 150, 0, 0.8)"),gradient.addColorStop(.6,"rgba(255, 100, 0, 0.3)"),gradient.addColorStop(1,"rgba(255, 50, 0, 0)"),ctx.beginPath(),ctx.arc(centerX,centerY,60,0,2*Math.PI),ctx.fillStyle=gradient,ctx.fill(),ctx.beginPath(),ctx.arc(centerX,centerY,25,0,2*Math.PI),ctx.fillStyle="#fff5c0",ctx.fill(),ctx.beginPath(),ctx.arc(centerX,centerY,30,0,2*Math.PI),ctx.fillStyle="rgba(255, 220, 100, 0.5)",ctx.fill()}function drawSaturnRings(x,y,size,angle){ctx.save(),ctx.translate(x,y),ctx.rotate(.4),ctx.beginPath(),ctx.ellipse(0,0,2.2*size,.5*size,0,0,2*Math.PI),ctx.strokeStyle="rgba(210, 180, 140, 0.6)",ctx.lineWidth=3,ctx.stroke(),ctx.beginPath(),ctx.ellipse(0,0,1.8*size,.4*size,0,0,2*Math.PI),ctx.strokeStyle="rgba(180, 150, 120, 0.4)",ctx.lineWidth=2,ctx.stroke(),ctx.restore()}function drawPlanet(planet,pos){ctx.beginPath(),ctx.arc(pos.x+2,pos.y+2,planet.size,0,2*Math.PI),ctx.fillStyle="rgba(0, 0, 0, 0.3)",ctx.fill();const gradient=ctx.createRadialGradient(pos.x-.3*planet.size,pos.y-.3*planet.size,0,pos.x,pos.y,planet.size);gradient.addColorStop(0,lightenColor(planet.color,30)),gradient.addColorStop(1,planet.color),ctx.beginPath(),ctx.arc(pos.x,pos.y,planet.size,0,2*Math.PI),ctx.fillStyle=gradient,ctx.fill(),"Saturn"===planet.name&&drawSaturnRings(pos.x,pos.y,planet.size,pos.angle),showLabels&&(ctx.fillStyle=window.themeInfo?.colors["text-secondary"]||"#b794f6",ctx.font="11px Segoe UI",ctx.textAlign="center",ctx.fillText(planet.name,pos.x,pos.y-planet.size-8))}function drawAsteroidBelt(){ctx.fillStyle="rgba(150, 150, 150, 0.6)",asteroids.forEach(asteroid=>{asteroid.angle+=asteroid.speed*simulationSpeed;const x=centerX+asteroid.distance*Math.cos(asteroid.angle),y=centerY+asteroid.distance*Math.sin(asteroid.angle);ctx.beginPath(),ctx.arc(x,y,asteroid.size,0,2*Math.PI),ctx.fill()})}function lightenColor(color,percent){const num=parseInt(color.replace("#",""),16),amt=Math.round(2.55*percent),R=(num>>16)+amt,G=(num>>8&255)+amt,B=(255&num)+amt;return"#"+(16777216+65536*(R<255?R<1?0:R:255)+256*(G<255?G<1?0:G:255)+(B<255?B<1?0:B:255)).toString(16).slice(1)}generateAsteroids(),resize(),window.addEventListener("resize",resize);let stars=[];function generateStars(){stars=[];for(let i=0;i<200;i++)stars.push({x:Math.random()*width,y:Math.random()*height,size:1.5*Math.random(),brightness:.3+.7*Math.random()})}function drawStars(){stars.forEach(star=>{const twinkle=.8+.2*Math.sin(.01*time+star.x);ctx.beginPath(),ctx.arc(star.x,star.y,star.size,0,2*Math.PI),ctx.fillStyle=`rgba(255, 255, 255, ${star.brightness*twinkle})`,ctx.fill()})}function animate(){ctx.fillStyle="rgba(10, 10, 25, 1)",ctx.fillRect(0,0,width,height),drawStars(),showOrbits&&planets.forEach(planet=>drawOrbit(planet)),showAsteroids&&drawAsteroidBelt(),drawSun(),planets.forEach(planet=>{drawPlanet(planet,getOrbitalPosition(planet,time))}),time+=1,requestAnimationFrame(animate)}generateStars(),document.getElementById("speedSlider").addEventListener("input",e=>{simulationSpeed=parseFloat(e.target.value),document.getElementById("speedValue").textContent=simulationSpeed.toFixed(1)+"x"}),document.getElementById("toggleOrbits").addEventListener("click",e=>{showOrbits=!showOrbits,e.target.classList.toggle("active")}),document.getElementById("toggleLabels").addEventListener("click",e=>{showLabels=!showLabels,e.target.classList.toggle("active")}),document.getElementById("toggleAsteroids").addEventListener("click",e=>{showAsteroids=!showAsteroids,e.target.classList.toggle("active")}),document.getElementById("resetView").addEventListener("click",()=>{time=0,simulationSpeed=1,document.getElementById("speedSlider").value=1,document.getElementById("speedValue").textContent="1x"}),canvas.addEventListener("click",e=>{const rect=canvas.getBoundingClientRect(),clickX=e.clientX-rect.left,clickY=e.clientY-rect.top;planets.forEach(planet=>{const pos=getOrbitalPosition(planet,time);Math.sqrt((clickX-pos.x)**2+(clickY-pos.y)**2)<planet.size+10&&(document.getElementById("infoPanel").innerHTML=`\n                        <h3>${planet.name}</h3>\n                        <p><strong>Orbital Period:</strong> ${planet.period} Earth years</p>\n                        <p><strong>Orbital Eccentricity:</strong> ${planet.eccentricity}</p>\n                        <p>${planet.info}</p>\n                    `)}),Math.sqrt((clickX-centerX)**2+(clickY-centerY)**2)<30&&(document.getElementById("infoPanel").innerHTML="\n                    <h3>The Sun</h3>\n                    <p><strong>Type:</strong> G-type main-sequence star</p>\n                    <p><strong>Age:</strong> ~4.6 billion years</p>\n                    <p>Contains 99.86% of the Solar System's mass. Surface temperature: 5,500째C. Core temperature: 15 million째C.</p>\n                ")}),animate();</script>
<script id="page-helpers" src="/api/page-helpers.js?v=2"></script>
<script id="page-script" src="/api/page-script.js?v=2"></script>

</body></html>